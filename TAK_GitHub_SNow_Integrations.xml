<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2022-07-20 10:11:14">
<sys_remote_update_set action="INSERT_OR_UPDATE">
<application display_value="Global">global</application>
<application_name>Global</application_name>
<application_scope>global</application_scope>
<application_version/>
<collisions/>
<commit_date/>
<deleted/>
<description>Testing test</description>
<inserted/>
<name>TAK_GitHub_SNow_Integrations</name>
<origin_sys_id/>
<parent display_value=""/>
<release_date/>
<remote_base_update_set display_value=""/>
<remote_parent_id/>
<remote_sys_id>930c19f21b685114df6254651a4bcb57</remote_sys_id>
<state>loaded</state>
<summary/>
<sys_class_name>sys_remote_update_set</sys_class_name>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:13</sys_created_on>
<sys_id>f6ddc8f91bfc9118df6254651a4bcb78</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:13</sys_updated_on>
<update_set display_value=""/>
<update_source display_value=""/>
<updated/>
</sys_remote_update_set>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_e3ffdd3e1ba85114df6254651a4bcbed</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>no_authentication</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>uploadUpdateSet</function_name><http_method>put</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>gitHubApi [ uploadUpdateSet ]</qualified_name><rest_endpoint/><rest_message display_value="gitHubApi">288f193a1ba85114df6254651a4bcb64</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>kqz8535</sys_created_by><sys_created_on>2022-07-11 08:29:23</sys_created_on><sys_id>e3ffdd3e1ba85114df6254651a4bcbed</sys_id><sys_mod_count>0</sys_mod_count><sys_name>uploadUpdateSet</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_fn_e3ffdd3e1ba85114df6254651a4bcbed</sys_update_name><sys_updated_by>kqz8535</sys_updated_by><sys_updated_on>2022-07-11 08:29:23</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<payload_hash>-602564439</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:14</sys_created_on>
<sys_id>3addc8f91bfc9118df6254651a4bcb7a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181ec609d800000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:14</sys_updated_on>
<table/>
<target_name>uploadUpdateSet</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_guid>1b30a57e62a85114077747def05d0cdf</update_guid>
<update_guid_history>1b30a57e62a85114077747def05d0cdf:-602564439</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_properties_9e8d117a1b685114df6254651a4bcbe4</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>User's Password from SNow instance to be used for API</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>TAK_CommitUserPassword</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>kqz8535</sys_created_by><sys_created_on>2022-07-11 08:19:52</sys_created_on><sys_id>9e8d117a1b685114df6254651a4bcbe4</sys_id><sys_mod_count>1</sys_mod_count><sys_name>TAK_CommitUserPassword</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_properties_9e8d117a1b685114df6254651a4bcbe4</sys_update_name><sys_updated_by>kqz8535</sys_updated_by><sys_updated_on>2022-07-11 08:25:38</sys_updated_on><type>string</type><value>Kyodo_datahub@2022</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=9e8d117a1b685114df6254651a4bcbe4"/></record_update>]]></payload>
<payload_hash>2119921191</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:14</sys_created_on>
<sys_id>3eddc8f91bfc9118df6254651a4bcb79</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181ec5d2fcc0000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:14</sys_updated_on>
<table/>
<target_name>TAK_CommitUserPassword</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>2c6f917ab0a85114891f2c9bce7ad1ae</update_guid>
<update_guid_history>2c6f917ab0a85114891f2c9bce7ad1ae:2119921191,3b0e95b213a85114d6637bf717155b1c:-304569303</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_fn_68af15f61ba85114df6254651a4bcb30</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message_fn"><sys_rest_message_fn action="INSERT_OR_UPDATE"><authentication_type>no_authentication</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><content/><function_name>getSha</function_name><http_method>get</http_method><lock>false</lock><oauth2_profile/><protocol_name/><qualified_name>gitHubApi [ getSha ]</qualified_name><rest_endpoint/><rest_message display_value="gitHubApi">288f193a1ba85114df6254651a4bcb64</rest_message><sys_class_name>sys_rest_message_fn</sys_class_name><sys_created_by>kqz8535</sys_created_by><sys_created_on>2022-07-11 08:26:45</sys_created_on><sys_id>68af15f61ba85114df6254651a4bcb30</sys_id><sys_mod_count>1</sys_mod_count><sys_name>getSha</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_fn_68af15f61ba85114df6254651a4bcb30</sys_update_name><sys_updated_by>kqz8535</sys_updated_by><sys_updated_on>2022-07-11 08:27:46</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mid_server/><use_mutual_auth>false</use_mutual_auth></sys_rest_message_fn></record_update>]]></payload>
<payload_hash>2097467652</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:14</sys_created_on>
<sys_id>76ddc8f91bfc9118df6254651a4bcb7a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181ec5f21390000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:14</sys_updated_on>
<table/>
<target_name>getSha</target_name>
<type>HTTP Method</type>
<update_domain>global</update_domain>
<update_guid>a7dfd9fa02a851142b5129f329cea8a3</update_guid>
<update_guid_history>a7dfd9fa02a851142b5129f329cea8a3:2097467652,2cafd9faf4a851145e0cff59d1841620:-584169200</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_properties_4e9c517a1b685114df6254651a4bcbee</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>GIt Hub password for the Takeda</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>TAK_gitHubPassword</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>kqz8535</sys_created_by><sys_created_on>2022-07-11 08:18:53</sys_created_on><sys_id>4e9c517a1b685114df6254651a4bcbee</sys_id><sys_mod_count>1</sys_mod_count><sys_name>TAK_gitHubPassword</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_properties_4e9c517a1b685114df6254651a4bcbee</sys_update_name><sys_updated_by>kqz8535</sys_updated_by><sys_updated_on>2022-07-11 08:23:42</sys_updated_on><type>string</type><value>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</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=4e9c517a1b685114df6254651a4bcbee"/></record_update>]]></payload>
<payload_hash>-717936648</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:14</sys_created_on>
<sys_id>7addc8f91bfc9118df6254651a4bcb79</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181ec5b6baa0000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:14</sys_updated_on>
<table/>
<target_name>TAK_gitHubPassword</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>d4fe193af3a851145c110eb223c8a62a</update_guid>
<update_guid_history>d4fe193af3a851145c110eb223c8a62a:-717936648,e5ddd9f2a4685114ab96d9836153a1b1:1613121402</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_rest_message_288f193a1ba85114df6254651a4bcb64</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_rest_message"><sys_rest_message action="INSERT_OR_UPDATE"><access>public</access><authentication_type>no_authentication</authentication_type><basic_auth_password/><basic_auth_profile/><basic_auth_user/><description/><name>gitHubApi</name><oauth2_profile/><protocol_name/><rest_endpoint>https://api.github.com/</rest_endpoint><sys_class_name>sys_rest_message</sys_class_name><sys_created_by>kqz8535</sys_created_by><sys_created_on>2022-07-11 08:26:45</sys_created_on><sys_id>288f193a1ba85114df6254651a4bcb64</sys_id><sys_mod_count>1</sys_mod_count><sys_name>gitHubApi</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_rest_message_288f193a1ba85114df6254651a4bcb64</sys_update_name><sys_updated_by>kqz8535</sys_updated_by><sys_updated_on>2022-07-11 08:38:37</sys_updated_on><use_basic_auth>false</use_basic_auth><use_mutual_auth>false</use_mutual_auth></sys_rest_message></record_update>]]></payload>
<payload_hash>-2105875562</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:14</sys_created_on>
<sys_id>b2ddc8f91bfc9118df6254651a4bcb7a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181ec69120b0000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:14</sys_updated_on>
<table/>
<target_name>gitHubApi</target_name>
<type>REST Message</type>
<update_domain>global</update_domain>
<update_guid>ee522d762ee85114b8d2f8a3df3389db</update_guid>
<update_guid_history>ee522d762ee85114b8d2f8a3df3389db:-2105875562,a0afd9fa50a85114168d37878449b522:-1582047995</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_properties_341d95be1b285114df6254651a4bcb61</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Takeda Github User Handle</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>TAK_gitHubuser</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>kqz8535</sys_created_by><sys_created_on>2022-07-11 08:19:14</sys_created_on><sys_id>341d95be1b285114df6254651a4bcb61</sys_id><sys_mod_count>1</sys_mod_count><sys_name>TAK_gitHubuser</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_properties_341d95be1b285114df6254651a4bcb61</sys_update_name><sys_updated_by>kqz8535</sys_updated_by><sys_updated_on>2022-07-11 08:25:15</sys_updated_on><type>string</type><value>Gauravsc12</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=341d95be1b285114df6254651a4bcb61"/></record_update>]]></payload>
<payload_hash>-1806482550</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:14</sys_created_on>
<sys_id>b6ddc8f91bfc9118df6254651a4bcb79</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181ec5cd3870000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:14</sys_updated_on>
<table/>
<target_name>TAK_gitHubuser</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>fa4f95f6cfa85114bed41152179a2a71</update_guid>
<update_guid_history>fa4f95f6cfa85114bed41152179a2a71:-1806482550,baed9db617685114301b156aea070202:-1382225396</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_ui_action_2a93217a1b2c5114df6254651a4bcb86</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name/&gt;&lt;active&gt;false&lt;/active&gt;&lt;client&gt;false&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition&gt;current.state =="complete" || current.state == "in progress"&lt;/condition&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;true&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;false&lt;/form_context_menu&gt;&lt;form_link&gt;false&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style&gt;primary&lt;/form_style&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;false&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;false&lt;/list_choice&gt;&lt;list_context_menu&gt;false&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;messages/&gt;&lt;name&gt;Commit to Github&lt;/name&gt;&lt;onclick/&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[gs.addInfoMessage(new TAK_GithubIntegrationSI().prepareUpdateset(current));
action.setRedirectURL(current);

]]&gt;&lt;/script&gt;&lt;show_insert&gt;false&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;kqz8535&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2022-07-11 08:49:33&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;2a93217a1b2c5114df6254651a4bcb86&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Commit to Github&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_2a93217a1b2c5114df6254651a4bcb86&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;kqz8535&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-07-11 08:55:25&lt;/sys_updated_on&gt;&lt;table&gt;sys_update_set&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload>
<payload_hash>200096865</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:14</sys_created_on>
<sys_id>beddc8f91bfc9118df6254651a4bcb7a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181ec7872dd0000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:14</sys_updated_on>
<table>sys_update_set</table>
<target_name>Commit to Github</target_name>
<type>UI Action</type>
<update_domain>global</update_domain>
<update_guid>b4362df21f6c5114205ef23bb042a12d</update_guid>
<update_guid_history>b4362df21f6c5114205ef23bb042a12d:200096865,66d46d76ca2c51147f86b5ce93b8a092:1196685230</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_properties_221ed9b21ba85114df6254651a4bcb5f</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>true</ignore_cache><is_private>false</is_private><name>TAK_gitHubRepo</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>kqz8535</sys_created_by><sys_created_on>2022-07-11 08:20:34</sys_created_on><sys_id>221ed9b21ba85114df6254651a4bcb5f</sys_id><sys_mod_count>1</sys_mod_count><sys_name>TAK_gitHubRepo</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_properties_221ed9b21ba85114df6254651a4bcb5f</sys_update_name><sys_updated_by>kqz8535</sys_updated_by><sys_updated_on>2022-07-11 08:25:47</sys_updated_on><type>string</type><value>TakedaTrain</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=221ed9b21ba85114df6254651a4bcb5f"/></record_update>]]></payload>
<payload_hash>-838255513</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:14</sys_created_on>
<sys_id>f2ddc8f91bfc9118df6254651a4bcb79</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181ec5d53020000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:14</sys_updated_on>
<table/>
<target_name>TAK_gitHubRepo</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>b66f553628a851147401917dde40a6ca</update_guid>
<update_guid_history>b66f553628a851147401917dde40a6ca:-838255513,5a3e1936e9a85114f85c6b7dcd46636d:548693413</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sysauto_script_5605e1321b6c5114df6254651a4bcbc9</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sysauto_script"&gt;&lt;sysauto_script action="INSERT_OR_UPDATE"&gt;&lt;active&gt;false&lt;/active&gt;&lt;business_calendar/&gt;&lt;condition/&gt;&lt;conditional&gt;false&lt;/conditional&gt;&lt;entered_time/&gt;&lt;name&gt;TAK_Github Integration update sets backup&lt;/name&gt;&lt;offset/&gt;&lt;offset_type&gt;0&lt;/offset_type&gt;&lt;run_as display_value="Sushant Giri"&gt;ae9693a91bb9b894894c42e58d4bcb1d&lt;/run_as&gt;&lt;run_as_tz/&gt;&lt;run_dayofmonth&gt;1&lt;/run_dayofmonth&gt;&lt;run_dayofweek&gt;1&lt;/run_dayofweek&gt;&lt;run_period/&gt;&lt;run_start&gt;2022-07-11 08:50:20&lt;/run_start&gt;&lt;run_time&gt;1969-12-31 18:30:00&lt;/run_time&gt;&lt;run_type&gt;on_demand&lt;/run_type&gt;&lt;script&gt;&lt;![CDATA[var updateSetGit = new GlideRecord('sys_update_set');
updateSetGit.query();
while (updateSetGit.next()){
    new TAK_GithubIntegrationSI().prepareUpdateset(updateSetGit);
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sysauto_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;kqz8535&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2022-07-11 08:52:31&lt;/sys_created_on&gt;&lt;sys_id&gt;5605e1321b6c5114df6254651a4bcbc9&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;TAK_Github Integration update sets backup&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sysauto_script_5605e1321b6c5114df6254651a4bcbc9&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;kqz8535&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-07-11 08:52:31&lt;/sys_updated_on&gt;&lt;time_zone/&gt;&lt;upgrade_safe&gt;false&lt;/upgrade_safe&gt;&lt;/sysauto_script&gt;&lt;/record_update&gt;</payload>
<payload_hash>1407635013</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:13</sys_created_on>
<sys_id>faddc8f91bfc9118df6254651a4bcb78</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181ec780eaf0000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:13</sys_updated_on>
<table/>
<target_name>TAK_Github Integration update sets backup</target_name>
<type>Scheduled Script Execution</type>
<update_domain>global</update_domain>
<update_guid>aa162976f56c51147c6fa3e6ae15459d</update_guid>
<update_guid_history>aa162976f56c51147c6fa3e6ae15459d:1407635013</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_script_include_61a029be1ba85114df6254651a4bcb69</name>
<payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.TAK_GithubIntegrationSI&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description&gt;Created as part of gitHub Integration to commit update sets to Github using API&lt;/description&gt;&lt;name&gt;TAK_GithubIntegrationSI&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var TAK_GithubIntegrationSI = Class.create();
TAK_GithubIntegrationSI.prototype = {
    initialize: function() {
        this.source = "TAK_GithubIntegrationSI";
    },
    prepareUpdateset: function(current) {
        var updateSetExport = new UpdateSetExport();
        var sysid = updateSetExport.exportUpdateSet(current);
        var url = "https://" + gs.getProperty("instance_name") + ".service-now.com/export_update_set.do?sysparm_sys_id=" + sysid + "&amp;sysparm_delete_when_done=true";
        var request = new sn_ws.RESTMessageV2();
        request.setEndpoint(url);
        request.setHttpMethod('GET');
        var user = gs.getProperty("TAK_CommitUser");
        var password = gs.getProperty("TAK_CommitUserPassword");
        request.setBasicAuth(user, password);
        request.setRequestHeader("Accept", "application/json");
        var updatesetid = request.saveResponseBodyAsAttachment(current.getTableName(), current.sys_id, current.getValue('name') + ".xml");
        var response = request.execute();
        var httpStatus = response.getStatusCode();
        return this.commitGit(current.name.trim(), response.getResponseAttachmentSysid());

    },

    commitGit: function(updatesetName, attachmentid) {
        var password = gs.getProperty("TAK_gitHubPassword");
        var user = gs.getProperty("TAK_gitHubuser");
        var githubRepo = gs.getProperty("TAK_gitHubRepo");
        var shavalue = this.updateGit(updatesetName);
        //gs.addInfoMessage("gitupdateset" + updatesetName);
        //gs.log("shavalue" + shavalue);
        try {
            var base64Data = this.getBase64(attachmentid);
            var authKey = "token " + password;
            var r = new sn_ws.RESTMessageV2('gitHubApi', 'uploadUpdateSet');
            r.setHttpMethod("PUT");
            r.setEndpoint('https://api.github.com/repos/' + user + '/' + githubRepo + '/contents/' + updatesetName + '.xml');
            //gs.addInfoMessage("gitupdatesetendpoint" + r.getEndpoint());
            r.setRequestHeader('Authorization', authKey);
            r.setRequestHeader("Content-Type", "application/vnd.github.v3+json");
            var data = {
                "message": "Auto commited",
                "committer": {
                    "name": gs.getUserName(),
                    "email": gs.getUser().getEmail()
                },
                "content": base64Data,
                "sha": shavalue
            };
            var newdata = JSON.stringify(data);
            r.setRequestBody(newdata);
            var response = r.execute();
            var responseBody = response.getBody();
            var httpStatus = response.getStatusCode();
            //gs.log("responseBody " + responseBody, this.source);
            //gs.log("httpStatus " + httpStatus, this.source);
            if (httpStatus == "201")
                return "Updateset Committed Successfully in Github";
            else if (httpStatus == "200")
                return "Updateset Updated Successfully in Github";
            else
                return "Error Occurred while committing Update Set In GitHub";
        } catch (ex) {
            var message = ex.message;
        }
    },
    updateGit: function(updatesetName) {
        //gs.log("funcalling");
        var password = gs.getProperty("TAK_gitHubPassword");
        var user = gs.getProperty("TAK_gitHubuser");
        var githubRepo = gs.getProperty("TAK_gitHubRepo");
        try {
            var authKey = "token " + password;
            //gs.log("Authkey" + authKey);
            var r = new sn_ws.RESTMessageV2('gitHubApi', 'getSha');
            r.setHttpMethod("GET");
            r.setEndpoint('https://api.github.com/repos/' + user + '/' + githubRepo + '/contents/' + updatesetName + '.xml');
            r.setRequestHeader('Authorization', authKey);
            var response = r.execute();
            //gs.log("updategit" + response);
            var responseBody = response.getBody();
            var responseBodyStr = JSON.parse(responseBody);
            var sha = responseBodyStr.sha;
            var httpStatus = response.getStatusCode();
            if (httpStatus == "200")
                return sha;
            else
                return "";
        } catch (ex) {
            var message = ex.message;
        }

    },

    getBase64: function(id) {
        var get64 = new GlideRecord('sys_attachment');
        if (get64.get(id)) {
            var sa = new GlideSysAttachment();
            var binData = sa.getBytes(get64);
            var encData = GlideStringUtil.base64Encode(binData);
            return encData;
        }
    },

    type: 'TAK_GithubIntegrationSI'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;kqz8535&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2022-07-11 08:33:57&lt;/sys_created_on&gt;&lt;sys_id&gt;61a029be1ba85114df6254651a4bcb69&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;TAK_GithubIntegrationSI&lt;/sys_name&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Global"&gt;global&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_61a029be1ba85114df6254651a4bcb69&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;kmy0837&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2022-07-13 08:53:05&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload>
<payload_hash>-1135799778</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:14</sys_created_on>
<sys_id>faddc8f91bfc9118df6254651a4bcb7a</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181f6c309180000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:14</sys_updated_on>
<table/>
<target_name>TAK_GithubIntegrationSI</target_name>
<type>Script Include</type>
<update_domain>global</update_domain>
<update_guid>42d8b357b968dd1407da020e9cb317a7</update_guid>
<update_guid_history>42d8b357b968dd1407da020e9cb317a7:-1135799778,47f2bbdf0468dd90142d525a59a2e55f:-1940266850,b1b1b71372e4dd14a6a0f415fb052a8b:-1489951778,ec91b39f43a4dd14b4a6c0833ad1232e:-1489951778,5661771fbba4dd146f4de94a96370be6:1983120734,ba11339fbca4dd14873cdc7caab814ce:-1135799778,7ee0731feba4dd14008943a7e92e47e0:1983120734,0a8365b658e85114983a90013dd659cc:-1489951778,6a53e9b622e851147160d1857d395947:8043075,f051a5be0ba85114d0d8d0f7ad6a7159:-944307349,964129be6aa8511475d2e8fc437a77dd:1466711644</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
<sys_update_xml action="INSERT_OR_UPDATE">
<action>INSERT_OR_UPDATE</action>
<application display_value="Global">global</application>
<category>customer</category>
<comments/>
<name>sys_properties_c63d5d3e1b685114df6254651a4bcb8e</name>
<payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>User from SNow instance to be used for API</description><ignore_cache>true</ignore_cache><is_private>false</is_private><name>TAK_CommitUser</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>kqz8535</sys_created_by><sys_created_on>2022-07-11 08:19:33</sys_created_on><sys_id>c63d5d3e1b685114df6254651a4bcb8e</sys_id><sys_mod_count>1</sys_mod_count><sys_name>TAK_CommitUser</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Global">global</sys_scope><sys_update_name>sys_properties_c63d5d3e1b685114df6254651a4bcb8e</sys_update_name><sys_updated_by>kqz8535</sys_updated_by><sys_updated_on>2022-07-11 08:25:25</sys_updated_on><type>string</type><value>kyodo_datahub</value><write_roles/></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=c63d5d3e1b685114df6254651a4bcb8e"/></record_update>]]></payload>
<payload_hash>-528031550</payload_hash>
<remote_update_set display_value="TAK_GitHub_SNow_Integrations">f6ddc8f91bfc9118df6254651a4bcb78</remote_update_set>
<replace_on_upgrade>false</replace_on_upgrade>
<sys_created_by>kqz8535</sys_created_by>
<sys_created_on>2022-07-20 10:11:14</sys_created_on>
<sys_id>feddc8f91bfc9118df6254651a4bcb79</sys_id>
<sys_mod_count>0</sys_mod_count>
<sys_recorded_at>181ec5cfcc80000001</sys_recorded_at>
<sys_updated_by>kqz8535</sys_updated_by>
<sys_updated_on>2022-07-20 10:11:14</sys_updated_on>
<table/>
<target_name>TAK_CommitUser</target_name>
<type>System Property</type>
<update_domain>global</update_domain>
<update_guid>515fd1ba92a85114a3f07bb23d6deeaa</update_guid>
<update_guid_history>515fd1ba92a85114a3f07bb23d6deeaa:-528031550,27fddd3a6d685114553284d835fdb62f:-1808747008</update_guid_history>
<update_set display_value=""/>
<view/>
</sys_update_xml>
</unload>
